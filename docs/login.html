<!doctype html><html lang="es"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Entrar — BauzaGPT</title>
<link rel="stylesheet" href="./estilos.css"></head>
<body class="wrap" style="max-width:480px;margin:3rem auto">
<h1>Entrar</h1>
<p>Te enviaremos un enlace mágico a tu correo.</p>
<input id="email" type="email" style="width:100%;padding:.6rem" placeholder="tucorreo@ejemplo.com">
<button id="send" class="btn primary" style="margin-top:.8rem">Enviar enlace</button>
<p id="msg" class="mini"></p>
<script type="module">
  import { createClient } from 'https://esm.sh/@supabase/supabase-js@2';
  const supabase = createClient('',''); // ← rellena en variables de arriba

  document.getElementById('send').onclick = async () => {
    const email = document.getElementById('email').value.trim();
    const { error } = await supabase.auth.signInWithOtp({
      email,
      options:{ emailRedirectTo: location.origin + '/docs/cuenta.html' }
    });
    document.getElementById('msg').textContent = error ? ('Error: '+error.message) : 'Revisa tu correo y entra con el enlace.';
  };
</script>
</body></html>
